<div ng-controller="chatBoxCtrl">
  <div ng-if="game.id">
    <button style="
            width: 50px;
            height: 2em;
            "
            ng-click="game.rollDice(1)">1d6</button>
    <button style="
            width: 50px;
            height: 2em;
            "
            ng-click="game.rollDice(2)">2d6</button>
    <button style="
            width: 50px;
            height: 2em;
            "
            ng-click="game.rollDice(3)">3d6</button>
    <button style="
            width: 50px;
            height: 2em;
            "
            ng-click="game.rollDice(4)">4d6</button>
    <button style="
            width: 50px;
            height: 2em;
            "
            ng-click="game.rollDice(5)">5d6</button>
    <button style="
            width: 50px;
            height: 2em;
            "
            ng-click="game.rollDice(1, 3)">1d3</button>
    <form style="margin:0;"
          ng-submit="doSendMessage()">
      <input style="width:80%;"
             ng-model="chat_msg"
             placeholder="Chat msg..."
             ng-keydown="stopKeyPropagation($event)"
             ng-keypress="stopKeyPropagation($event)"
             />
      <button style="width:15%;"
              type="submit">Send</button>
    </form>
  </div>
  <div ng-repeat="cmd in showMsgCommands(game.new_commands).reverse()">
    {{cmd.user.name}}[{{cmd.msg_type}}] {{cmd.msg_text}}
  </div>
  <div ng-repeat="cmd in showMsgCommands(game.commands).reverse()">
    &#8594; {{cmd.user.name}}[{{cmd.msg_type}}] {{cmd.msg_text}}
  </div>
</div>
